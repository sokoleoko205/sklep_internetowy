{"ast":null,"code":"import React, { forwardRef, useRef, useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from '../../_virtual/index.js';\nimport { useForkedRef } from '../../hooks/useForkedRef.js';\nimport { useIsVisible } from '../../hooks/useIsVisible.js';\nimport '@popperjs/core';\nvar CTimePickerRollCol = forwardRef(function (_a, ref) {\n  var elements = _a.elements,\n    onClick = _a.onClick,\n    selected = _a.selected;\n  var init = useRef(true);\n  var colRef = useRef(null);\n  var forkedRef = useForkedRef(ref, colRef);\n  var isVisible = useIsVisible(colRef);\n  useEffect(function () {\n    var _a, _b;\n    var nodeEl = (_a = colRef.current) === null || _a === void 0 ? void 0 : _a.querySelector('.selected');\n    if (isVisible && nodeEl && nodeEl instanceof HTMLElement) {\n      (_b = colRef.current) === null || _b === void 0 ? void 0 : _b.scrollTo({\n        top: nodeEl.offsetTop,\n        behavior: init.current ? 'auto' : 'smooth'\n      });\n    }\n    if (isVisible) {\n      init.current = false;\n    }\n  }, [isVisible, selected]);\n  var handleKeyDown = function (event, value) {\n    if (event.code === 'Space' || event.key === 'Enter') {\n      event.preventDefault();\n      onClick && onClick(value);\n    }\n  };\n  return React.createElement(\"div\", {\n    className: \"time-picker-roll-col\",\n    ref: forkedRef\n  }, elements.map(function (element, index) {\n    return React.createElement(\"div\", {\n      className: classNames('time-picker-roll-cell', {\n        selected: element.value === selected\n      }),\n      key: index,\n      onClick: function () {\n        return onClick && onClick(element.value);\n      },\n      onKeyDown: function (event) {\n        return handleKeyDown(event, element.value);\n      },\n      role: \"button\",\n      tabIndex: 0\n    }, element.label);\n  }));\n});\nCTimePickerRollCol.propTypes = {\n  elements: PropTypes.array.isRequired,\n  onClick: PropTypes.func,\n  selected: PropTypes.oneOfType([PropTypes.number, PropTypes.string])\n};\nCTimePickerRollCol.displayName = 'CTimePickerRollCol';\nexport { CTimePickerRollCol };","map":{"version":3,"names":["CTimePickerRollCol","forwardRef","_a","ref","elements","onClick","selected","init","useRef","colRef","forkedRef","useForkedRef","isVisible","useIsVisible","useEffect","nodeEl","current","querySelector","HTMLElement","_b","scrollTo","top","offsetTop","behavior","handleKeyDown","event","value","code","key","preventDefault","React","createElement","className","map","element","index","classNames","onKeyDown","role","tabIndex","label","propTypes","PropTypes","array","isRequired","func","oneOfType","number","string","displayName"],"sources":["C:\\Users\\5m\\node_modules\\@coreui\\react-pro\\src\\components\\time-picker\\CTimePickerRollCol.tsx"],"sourcesContent":["import React, { forwardRef, useEffect, useRef } from 'react'\nimport PropTypes from 'prop-types'\nimport classNames from 'classnames'\n\nimport { useForkedRef, useIsVisible } from '../../hooks'\n\nexport interface Element {\n  value: number | string\n  label: number | string\n}\n\nexport interface CTimePickerRollColProps {\n  elements: Element[]\n  onClick?: (value: number | string) => void\n  selected?: number | string | null\n}\n\nexport const CTimePickerRollCol = forwardRef<HTMLDivElement, CTimePickerRollColProps>(\n  ({ elements, onClick, selected }, ref) => {\n    const init = useRef(true)\n    const colRef = useRef<HTMLDivElement>(null)\n    const forkedRef = useForkedRef(ref, colRef)\n    const isVisible = useIsVisible(colRef)\n\n    useEffect(() => {\n      const nodeEl = colRef.current?.querySelector('.selected')\n      if (isVisible && nodeEl && nodeEl instanceof HTMLElement) {\n        colRef.current?.scrollTo({\n          top: nodeEl.offsetTop,\n          behavior: init.current ? 'auto' : 'smooth',\n        })\n      }\n\n      if (isVisible) {\n        init.current = false\n      }\n    }, [isVisible, selected])\n\n    const handleKeyDown = (event: React.KeyboardEvent<HTMLDivElement>, value: number | string) => {\n      if (event.code === 'Space' || event.key === 'Enter') {\n        event.preventDefault()\n        onClick && onClick(value)\n      }\n    }\n\n    return (\n      <div className=\"time-picker-roll-col\" ref={forkedRef}>\n        {elements.map((element, index) => {\n          return (\n            <div\n              className={classNames('time-picker-roll-cell', {\n                selected: element.value === selected,\n              })}\n              key={index}\n              onClick={() => onClick && onClick(element.value)}\n              onKeyDown={(event) => handleKeyDown(event, element.value)}\n              role=\"button\"\n              tabIndex={0}\n            >\n              {element.label}\n            </div>\n          )\n        })}\n      </div>\n    )\n  },\n)\n\nCTimePickerRollCol.propTypes = {\n  elements: PropTypes.array.isRequired,\n  onClick: PropTypes.func,\n  selected: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n}\n\nCTimePickerRollCol.displayName = 'CTimePickerRollCol'\n"],"mappings":";;;;;;IAiBaA,kBAAkB,GAAGC,UAAU,CAC1C,UAACC,EAA+B,EAAEC,GAAG;EAAlC,IAAAC,QAAQ,GAAAF,EAAA,CAAAE,QAAA;IAAEC,OAAO,GAAAH,EAAA,CAAAG,OAAA;IAAEC,QAAQ,GAAAJ,EAAA,CAAAI,QAAA;EAC5B,IAAMC,IAAI,GAAGC,MAAM,CAAC,IAAI,CAAC;EACzB,IAAMC,MAAM,GAAGD,MAAM,CAAiB,IAAI,CAAC;EAC3C,IAAME,SAAS,GAAGC,YAAY,CAACR,GAAG,EAAEM,MAAM,CAAC;EAC3C,IAAMG,SAAS,GAAGC,YAAY,CAACJ,MAAM,CAAC;EAEtCK,SAAS,CAAC;;IACR,IAAMC,MAAM,GAAG,CAAAb,EAAA,GAAAO,MAAM,CAACO,OAAO,cAAAd,EAAA,uBAAAA,EAAA,CAAEe,aAAa,CAAC,WAAW,CAAC;IACzD,IAAIL,SAAS,IAAIG,MAAM,IAAIA,MAAM,YAAYG,WAAW,EAAE;MACxD,CAAAC,EAAA,GAAAV,MAAM,CAACO,OAAO,cAAAG,EAAA,uBAAAA,EAAA,CAAEC,QAAQ,CAAC;QACvBC,GAAG,EAAEN,MAAM,CAACO,SAAS;QACrBC,QAAQ,EAAEhB,IAAI,CAACS,OAAO,GAAG,MAAM,GAAG;MACnC,EAAC;;IAGJ,IAAIJ,SAAS,EAAE;MACbL,IAAI,CAACS,OAAO,GAAG,KAAK;;EAExB,CAAC,EAAE,CAACJ,SAAS,EAAEN,QAAQ,CAAC,CAAC;EAEzB,IAAMkB,aAAa,GAAG,SAAAA,CAACC,KAA0C,EAAEC,KAAsB;IACvF,IAAID,KAAK,CAACE,IAAI,KAAK,OAAO,IAAIF,KAAK,CAACG,GAAG,KAAK,OAAO,EAAE;MACnDH,KAAK,CAACI,cAAc,EAAE;MACtBxB,OAAO,IAAIA,OAAO,CAACqB,KAAK,CAAC;;EAE7B,CAAC;EAED,OACEI,KAAK,CAAAC,aAAA;IAAAC,SAAS,EAAC,sBAAsB;IAAC7B,GAAG,EAAEO;EAAS,GACjDN,QAAQ,CAAC6B,GAAG,CAAC,UAACC,OAAO,EAAEC,KAAK;IAC3B,OACEL,KACE,CAAAC,aAAA;MAAAC,SAAS,EAAEI,UAAU,CAAC,uBAAuB,EAAE;QAC7C9B,QAAQ,EAAE4B,OAAO,CAACR,KAAK,KAAKpB;OAC7B,CAAC;MACFsB,GAAG,EAAEO,KAAK;MACV9B,OAAO,EAAE,SAAAA,CAAA,EAAM;QAAA,OAAAA,OAAO,IAAIA,OAAO,CAAC6B,OAAO,CAACR,KAAK,CAAC;MAAA;MAChDW,SAAS,EAAE,SAAAA,CAACZ,KAAK;QAAK,OAAAD,aAAa,CAACC,KAAK,EAAES,OAAO,CAACR,KAAK,CAAC;MAAnC,CAAmC;MACzDY,IAAI,EAAC,QAAQ;MACbC,QAAQ,EAAE;IAAC,GAEVL,OAAO,CAACM,KAAK,CACV;GAET,CAAC,CACE;AAEV,CAAC;AAGHxC,kBAAkB,CAACyC,SAAS,GAAG;EAC7BrC,QAAQ,EAAEsC,SAAS,CAACC,KAAK,CAACC,UAAU;EACpCvC,OAAO,EAAEqC,SAAS,CAACG,IAAI;EACvBvC,QAAQ,EAAEoC,SAAS,CAACI,SAAS,CAAC,CAACJ,SAAS,CAACK,MAAM,EAAEL,SAAS,CAACM,MAAM,CAAC;CACnE;AAEDhD,kBAAkB,CAACiD,WAAW,GAAG,oBAAoB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}